generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  username  String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  orders    Order[]
  balance   Float    @default(0)
}

model Service {
  id              Int         @id @default(autoincrement())
  name            String
  socialAccount   String
  description     String
  lowPrice        Float
  mediumPrice     Float
  highPrice       Float
  imageUrl        String
  minQuantity     Int
  maxQuantity     Int
  deliveryTime    Int
  serviceType     ServiceType
  isAvailable     Boolean     @default(true)
  unitOfMeasurement String
  createdAt       DateTime    @default(now())
  updatedAt       DateTime    @updatedAt
  orderItems      OrderItem[]
}

model Order {
  id         Int         @id @default(autoincrement())
  userId     Int
  user       User        @relation(fields: [userId], references: [id])
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
  total      Float
  status     OrderStatus @default(PENDING)
  orderItems OrderItem[]
}

model OrderItem {
  id        Int     @id @default(autoincrement())
  orderId   Int
  order     Order   @relation(fields: [orderId], references: [id])
  serviceId Int
  service   Service @relation(fields: [serviceId], references: [id])
  quantity  Int
  price     Float
  targetUrl String
}

enum ServiceType {
  YOUTUBE_VIEWS
  YOUTUBE_LIKES
  YOUTUBE_SUBSCRIBERS
  FACEBOOK_LIKES
  FACEBOOK_PAGE_LIKES
  INSTAGRAM_FOLLOWERS
  TWITTER_FOLLOWERS
  TWITTER_LIKES
  TWITTER_RETWEETS
  TIKTOK_FOLLOWERS
  TIKTOK_LIKES
  TIKTOK_VIEWS
  LINKEDIN_CONNECTIONS
  LINKEDIN_POST_ENGAGEMENTS
  PINTEREST_FOLLOWERS
  PINTEREST_PINS
  PINTEREST_REPINS
  TWITCH_FOLLOWERS
  TWITCH_VIEWS
  SPOTIFY_PLAYLIST_FOLLOWERS
  SPOTIFY_STREAMS
  OTHER
}

enum OrderStatus {
  PENDING
  PROCESSING
  COMPLETED
  CANCELLED
}